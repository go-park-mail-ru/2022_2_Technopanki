<h3>Нагрузочное тестирование Jobflow</h3>
В качестве основной сущности была выбрана вакансия. Тестировались следующие end-point:\
<h4>GET-запрос</h4>
URL: ` http://localhost:8080/api/vacancy/:id`

Нагрузка: <b>20000 Requests per second</b>

Запуск: ` go run perf_test/attackerGet.go`

<h4>POST-запрос</h4>
URL: ` http://localhost:8080/api/vacancies` 

Нагрузка: <b>5000 Requests per second</b>

Запуск: ` go run perf_test/attackerCreate.go`

<h3>Первоначальные результаты</h3>
<h4>Тестирование GET-запроса дало следующие результаты:</h4> 
RPS: 14564.706081 
В среднем сервер справляется до нагрузки около 14000RPS, затем некоторые запросы не успевают обрабатываться до истечения таймаута(5s). 

Было принято решение не менять таймаут для неблокирющих запросов к базе данных, проведение оптимизаций для GET-запроса не требуется.

<h4>Тестирование POST-запроса дало следующие результаты:</h4>
RPS: 4698.374234 

Сервер справляется с блокирующими запросами, требующими подтверждение сессии, до нагрузки приблизительно 4000RPS, затем некоторые запросы не успевают обрабатываться до истечения таймаута(1s). Было принято решение повысить таймаут для блокирующих запросов до 5s

Проблема в низкой производительности, на наш взгляд, заключается в том, что для подтверждения сессии требуется поиск в базе данных не по первичному ключу (поле email).

Самым простым решением, на наш взгляд, является создание индекса в таблице пользователей по колонке email:

` CREATE INDEX email_idx ON user_accounts (email);`

<b>Результат нового тестирования:</b>\
RPS: 5000.003123\
Мы видим, что сервер стал намного лучше справляться с высокой нагрузкой. Повышаем количество запросов в секунду до 10000:

RPS: 9993.666736

<h4>Вывод:</h4>
Благодаря созданию индекса мы смогли оптимизировать часто используемый запрос, необходимый для проверки сессии, и сделали сервис более устойчивым к высоким нагрузкам.
